# Auraditor Project Structure

> **IMPORTANT**: This file should be updated whenever the project folder structure changes significantly.

## Project Overview
Auraditor is a Burp Suite extension for security testing of Salesforce Lightning and Aura applications. It's built with Java using the Burp Montoya API and packaged as a Maven project.

## Directory Structure

```
auraditor/
├── ai-context/              # AI-consumable files and documentation
│   ├── structure.md         # This file - project structure documentation
│   ├── tasks/               # Task planning files (agent-specific)
│   │   ├── .gitkeep         # Placeholder
│   │   ├── claude-latest.md # Claude's current task plan
│   │   ├── chatgpt-latest.md # ChatGPT's current task plan
│   │   ├── copilot-latest.md # Copilot's current task plan
│   │   └── gemini-latest.md # Gemini's current task plan
│   └── temp/                # Temporary AI files (screenshots, samples, etc.)
│       └── .gitkeep         # Placeholder (contents ignored by git)
│
├── external-refs/           # Git submodules for external references
│   ├── montoya-api/         # Burp Suite Montoya API source code
│   └── montoya-api-examples/ # Official Burp extension examples
│
├── src/main/               # Main source code
│   ├── java/auraditor/     # Java source code
│   │   ├── burp/           # Burp Suite integration
│   │   │   └── BurpExtender.java  # Extension entry point (implements BurpExtension)
│   │   ├── core/           # Core domain logic (5 classes)
│   │   │   ├── AuraMessage.java        # Aura message model
│   │   │   ├── MessageHandler.java     # Message processing logic
│   │   │   ├── RequestResponsePair.java # HTTP request/response pairs
│   │   │   ├── ThreadManager.java      # Background thread management
│   │   │   └── ResultsManager.java     # Search results handling
│   │   │
│   │   ├── requesteditor/ui/  # Request/response editor tabs (9 classes)
│   │   │   ├── AuraActionEditorProvider.java
│   │   │   ├── AuraActionRequestEditor.java
│   │   │   ├── AuraActionResponseEditor.java
│   │   │   ├── AuraContextEditorProvider.java
│   │   │   ├── AuraContextRequestEditor.java
│   │   │   ├── AuraContextResponseEditor.java
│   │   │   ├── ParsedAuraMessage.java
│   │   │   ├── TextEditorProvider.java
│   │   │   └── TextRequestEditor.java
│   │   │
│   │   └── suite/ui/       # Main UI and tools (16 classes)
│   │       ├── ActionsTab.java         # Primary UI and functionality hub
│   │       ├── IdAnalyzerTab.java      # Salesforce ID analysis tool
│   │       ├── ObjectIdEnumTab.java    # ID enumeration functionality
│   │       ├── SitemapSearchTab.java   # Sitemap search interface
│   │       ├── ResultsTab.java         # Search results display
│   │       ├── ContextMenu.java        # Right-click menu integration
│   │       ├── AuraActionSender.java   # HTTP request handling
│   │       ├── SitemapProcessor.java   # Sitemap traversal logic
│   │       ├── IdDiscoveryTab.java     # ID discovery from responses
│   │       ├── IdCollectorTab.java     # ID collection management
│   │       └── [6 more UI classes]
│   │
│   └── resources/          # Resource files
│       └── [resource files]
│
├── resource/               # Data resources
│   └── standard_objects.txt # List of Salesforce standard object types
│
├── tools/                  # Standalone utilities (not part of extension)
│   ├── README.md           # Tool documentation
│   └── sfidenum.py         # Python script for Salesforce ID enumeration
│
├── examples/               # Documentation assets
│   ├── auraditor_screenshot1.png
│   ├── auraditor_screenshot2.png
│   └── auraditor_screenshot3.png
│
├── target/                 # Build output (generated by Maven, ignored by git)
│   └── auraditor-2.0.5.jar # Final JAR file (load this in Burp Suite)
│
├── .github/workflows/      # GitHub Actions CI/CD
│   └── maven.yml           # Build automation workflow
│
├── .idea/                  # IntelliJ IDEA configuration (ignored by git)
├── .vscode/                # VS Code configuration (ignored by git)
├── .mvn/                   # Maven wrapper (ignored by git)
├── .claude/                # Claude Code settings (ignored by git)
│
├── META-INF/               # JAR metadata
│   └── MANIFEST.MF         # Manifest file for extension loading
│
├── agent.md                # AI Development Guide (read this!)
├── README.md               # User documentation
├── TODO.md                 # Feature roadmap and enhancement ideas
├── pom.xml                 # Maven project configuration
├── mvnw.cmd                # Maven wrapper script (Windows)
├── LICENSE.txt             # BSD 3-Clause License
├── .gitignore              # Git ignore patterns
├── .gitmodules             # Git submodule configuration
└── update-external-refs.cmd # Script to update git submodules
```

## Key Directories Explained

### Source Code (`src/main/java/auraditor/`)
- **`burp/BurpExtender.java`** - Extension entry point, registers all tabs and functionality
- **`core/`** - Domain models and business logic (messages, threading, results)
- **`requesteditor/ui/`** - Custom editor tabs for Burp's HTTP message editor
- **`suite/ui/`** - Main application UI, tools, and user-facing features

### External References (`external-refs/`)
Git submodules containing:
- **`montoya-api/`** - Full Montoya API source code for reference
- **`montoya-api-examples/`** - Official example extensions for patterns

Update these with: `git submodule update --remote` or `update-external-refs.cmd`

### AI Context (`ai-context/`)
- **`structure.md`** - This file, explaining project organization
- **`tasks/`** - Task planning and implementation files (agent-specific naming)
  - **`{agent-name}-latest.md`** - Agent-specific task implementation plans
  - Examples: `claude-latest.md`, `chatgpt-latest.md`, `copilot-latest.md`, `gemini-latest.md`
  - Each AI agent creates their own file to avoid conflicts
  - AI must write plan here and get approval before implementing
  - Delete plan file only after: task completion, successful compilation, git commit, and user approval
  - **Multi-agent collaboration**: Multiple agents can work simultaneously without file conflicts
- **`temp/`** - Place for temporary AI-consumable files (screenshots, code samples, etc.)
  - Contents are ignored by git (except `.gitkeep`)
  - AI agents should look here for user-provided samples/screenshots

### Tools (`tools/`)
Standalone utilities that work independently:
- **`sfidenum.py`** - Python tool for Salesforce ID enumeration (command-line)

### Resources
- **`resource/standard_objects.txt`** - Reference data for Salesforce object types
- **`src/main/resources/`** - Java resource files bundled into JAR

### Build System
- **`pom.xml`** - Maven configuration, dependencies, build plugins
- **`target/`** - Generated build output (JAR file created here)
- **`mvnw.cmd`** - Maven wrapper for Windows (ensures correct Maven version)

## Finding Specific Functionality

| Feature | Location |
|---------|----------|
| **Extension entry point** | `src/main/java/burp/BurpExtender.java` |
| **Main UI tab** | `src/main/java/auraditor/suite/ui/ActionsTab.java` |
| **Aura message parsing** | `src/main/java/auraditor/core/AuraMessage.java` |
| **Request editor tabs** | `src/main/java/auraditor/requesteditor/ui/` |
| **Sitemap search** | `src/main/java/auraditor/suite/ui/SitemapSearchTab.java` |
| **ID analysis** | `src/main/java/auraditor/suite/ui/IdAnalyzerTab.java` |
| **Background threading** | `src/main/java/auraditor/core/ThreadManager.java` |
| **HTTP communication** | `src/main/java/auraditor/suite/ui/AuraActionSender.java` |
| **Results display** | `src/main/java/auraditor/suite/ui/ResultsTab.java` |
| **Montoya API reference** | `external-refs/montoya-api/` |
| **Extension examples** | `external-refs/montoya-api-examples/` |

## Development Workflow
1. Make code changes in `src/main/java/auraditor/`
2. Compile: `mvn clean compile`
3. Package: `mvn clean package`
4. Test: Load `target/auraditor-2.0.5.jar` in Burp Suite
5. Commit: `git add . && git commit -m "Description"`

## Important Notes
- Final JAR is at `target/auraditor-2.0.5.jar`
- Use `MontoyaApi` for all Burp integration (never use legacy API)
- UI updates must use `SwingUtilities.invokeLater()`
- Background tasks use `ThreadManager.createManagedThread()`
- Always check Montoya API source in `external-refs/` before implementing features

## Maintenance
**When adding/removing folders or major files, update this file (`ai-context/structure.md`) to keep AI agents informed of project organization.**
